-- Created by Vertabelo (http://vertabelo.com)
-- Last modification date: 2022-04-19 02:08:11.607

-- tables
-- Table: CLIENTE
CREATE TABLE CLIENTE (
    CODCLI char(4)  NOT NULL,
    NOMCLI varchar(20)  NOT NULL,
    APECLI varchar(40)  NOT NULL,
    DNICLI char(8)  NOT NULL,
    MONPAGCLI int  NOT NULL,
    CONSTRAINT CLIENTE_pk PRIMARY KEY  (CODCLI)
);

-- Table: EMPLEADO
CREATE TABLE EMPLEADO (
    CODEMP char(4)  NOT NULL,
    NOMEMP varchar(40)  NOT NULL,
    APEEMP varchar(70)  NOT NULL,
    DNIEMP char(8)  NOT NULL,
    PASEMP varchar(16)  NOT NULL,
    USUEMP varchar(20)  NOT NULL,
    TELEMP char(9)  NOT NULL,
    CONSTRAINT EMPLEADO_pk PRIMARY KEY  (CODEMP)
);

-- Table: MEDICAMENTO
CREATE TABLE MEDICAMENTO (
    CODMED char(4)  NOT NULL,
    NOMMED varchar(30)  NOT NULL,
    STOMED int  NOT NULL,
    LABMED varchar(30)  NOT NULL,
    DESMED varchar(30)  NOT NULL,
    NUMLOTMED char(7)  NOT NULL,
    PREMED decimal(10,2)  NOT NULL,
    FECVENMED date  NOT NULL,
    CONSTRAINT MEDICAMENTO_pk PRIMARY KEY  (CODMED)
);

-- Table: VENTA
CREATE TABLE VENTA (
    CODVEN char(4)  NOT NULL,
    FECVEN date  NOT NULL,
    CANPRO int  NOT NULL,
    CODEMP char(4)  NOT NULL,
    CLIENTE_CODCLI char(4)  NOT NULL,
    CONSTRAINT VENTA_pk PRIMARY KEY  (CODVEN)
);

-- Table: VENTA_DETALLE
CREATE TABLE VENTA_DETALLE (
    CODVENDE char(6)  NOT NULL,
    CANMED int  NOT NULL,
    CODVEN char(4)  NOT NULL,
    MEDICAMENTO_CODMED char(4)  NOT NULL,
    VENTA_CODVEN char(4)  NOT NULL,
    CONSTRAINT VENTA_DETALLE_pk PRIMARY KEY  (CODVENDE)
);

-- foreign keys
-- Reference: VENTA_CLIENTE (table: VENTA)
ALTER TABLE VENTA ADD CONSTRAINT VENTA_CLIENTE
    FOREIGN KEY (CLIENTE_CODCLI)
    REFERENCES CLIENTE (CODCLI);

-- Reference: VENTA_DETALLE_MEDICAMENTO (table: VENTA_DETALLE)
ALTER TABLE VENTA_DETALLE ADD CONSTRAINT VENTA_DETALLE_MEDICAMENTO
    FOREIGN KEY (MEDICAMENTO_CODMED)
    REFERENCES MEDICAMENTO (CODMED);

-- Reference: VENTA_DETALLE_VENTA (table: VENTA_DETALLE)
ALTER TABLE VENTA_DETALLE ADD CONSTRAINT VENTA_DETALLE_VENTA
    FOREIGN KEY (VENTA_CODVEN)
    REFERENCES VENTA (CODVEN);

-- Reference: VENTA_EMPLEADO (table: VENTA)
ALTER TABLE VENTA ADD CONSTRAINT VENTA_EMPLEADO
    FOREIGN KEY (CODEMP)
    REFERENCES EMPLEADO (CODEMP);

-- End of file.

